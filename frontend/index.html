<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="root_controller.js"></script>
    <script type="text/javascript" src="compiler.js"></script>
    <script type="text/javascript" src="component.js"></script>
    <script type="text/javascript" src="renderer.js"></script>

    <script
      type="text/javascript"
      src="../prototype/samples/slideshowloop.js"
    ></script>
    <script type="text/javascript" src="assets.js"></script>
    <script type="text/javascript">
      window.onload = function () {
        const AssetsManager = function () {
          const instance = {};

          instance.find = function (id) {
            return window.dummyAssets[id];
          };

          return instance;
        };

        const assetsManager = AssetsManager();
        const compiler = Compiler(); // compile時にassetへの参照に置き換えたい
        const renderer = Renderer();
        const rootController = RootController();
        const component = Component(
          rootController,
          compiler.compile(window.frameEventsSlideshowLoop),
          ScreenObjectsManager(),
          renderer,
          assetsManager
        );
        component.play();
      };
    </script>
    <style></style>
  </head>
  <body>
    <div id="frame_count">フレーム番号:</div>
    <div id="root" style="width: 640px; height: 480px"></div>
  </body>
</html>
